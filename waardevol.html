<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Je bent Waardevol / Imperfectie</title>
    <style>
        :root {
            /* Thema: Blauw & Zand (Diepte en Warmte) */
            --primary-color: #1565c0;      /* Helder Oceaanblauw */
            --primary-light: #64b5f6;      /* Zacht Hemelsblauw */
            --accent-color: #dcb372;       /* Zand/Goud */
            --pastel-bg: #e3f2fd;          /* Heel lichtblauw als basis */
            --glass-bg: rgba(255, 255, 255, 0.94);
            
            --btn-gradient: linear-gradient(135deg, #64b5f6 0%, #1976d2 100%);
            --btn-hover: linear-gradient(135deg, #90caf9 0%, #42a5f5 100%);
            
            --text-color: #0d47a1;
            --radius: 35px;
            --transition: all 0.4s ease;
        }

        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: 'Georgia', 'Times New Roman', serif;
            color: var(--text-color);
            background-color: var(--pastel-bg);
            overflow-x: hidden;
            transition: background 1s ease;
        }

        #bg-image {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -2; background-size: cover; background-position: center;
            opacity: 0; transition: opacity 1s ease-in-out;
        }
        
        #bg-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; background: rgba(227, 242, 253, 0.4);
            backdrop-filter: blur(0px); transition: backdrop-filter 1s ease;
        }

        .container {
            min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px;
        }

        .card {
            background: var(--glass-bg);
            border-radius: var(--radius); padding: 50px 40px;
            max-width: 650px; width: 100%;
            box-shadow: 0 20px 50px rgba(21, 101, 192, 0.15);
            border: 2px solid #fff; position: relative;
            animation: floatUp 0.8s ease-out;
        }
        @keyframes floatUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        header { text-align: center; margin-bottom: 20px; }

        .top-nav {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 10px; flex-wrap: wrap; gap: 10px;
        }
        
        .theme-selector {
            display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;
        }
        
        .theme-btn {
            background: transparent; border: 2px solid var(--primary-color);
            color: var(--primary-color); padding: 5px 15px; border-radius: 20px;
            font-size: 0.8rem; font-weight: bold; cursor: pointer; font-family: sans-serif;
            transition: var(--transition);
        }
        .theme-btn.active, .theme-btn:hover { background: var(--primary-color); color: white; }

        .nav-tools { display: flex; gap: 10px; }
        .tool-btn {
            background: white; border: 1px solid var(--primary-light);
            color: var(--primary-color); padding: 6px 15px; border-radius: 20px;
            font-size: 0.8rem; cursor: pointer; font-family: 'Helvetica Neue', sans-serif;
            transition: var(--transition);
        }
        .tool-btn:hover, .tool-btn.active { background: var(--primary-light); color: white; }

        h1 {
            color: var(--primary-color); font-size: 1.8rem; margin: 10px 0;
            font-weight: normal; font-style: italic; line-height: 1.3;
        }

        .day-counter {
            font-family: 'Helvetica Neue', sans-serif; text-transform: uppercase;
            letter-spacing: 2px; font-size: 0.75rem; color: #fff;
            background: var(--primary-light); padding: 5px 12px; border-radius: 50px;
        }

        .scripture-box {
            font-size: 1.25rem; line-height: 1.6; text-align: center;
            margin-bottom: 25px; color: var(--text-color); font-style: italic; padding: 0 10px;
        }
        .reference {
            display: block; margin-top: 10px; font-size: 0.9rem;
            color: var(--primary-light); text-transform: uppercase;
            font-family: sans-serif; font-style: normal; font-weight: bold;
        }

        .action-box {
            background: linear-gradient(to right, #eef7fe, #e3f2fd);
            border-left: 4px solid var(--accent-color);
            border-radius: 15px; padding: 20px; margin-bottom: 25px;
        }
        .action-title {
            font-weight: bold; color: var(--accent-color); display: block;
            margin-bottom: 5px; font-family: sans-serif; text-transform: uppercase;
            font-size: 0.75rem; letter-spacing: 1px;
        }

        textarea {
            width: 100%; height: 140px; padding: 15px; border-radius: 20px;
            border: 2px solid var(--primary-light); background-color: #fafafa;
            font-family: 'Georgia', serif; font-size: 1rem; color: var(--text-color);
            margin-bottom: 20px; resize: vertical; box-sizing: border-box; transition: var(--transition);
        }
        textarea:focus { outline: none; border-color: var(--primary-color); background-color: #fff; }

        .btn-primary {
            background: var(--btn-gradient); color: white; border: none;
            padding: 12px 30px; font-size: 1rem; border-radius: 50px;
            cursor: pointer; transition: var(--transition); width: 100%;
            font-family: 'Helvetica Neue', sans-serif; font-weight: 600;
            box-shadow: 0 5px 15px rgba(21, 101, 192, 0.3);
        }
        .btn-primary:hover { transform: translateY(-2px); filter: brightness(1.05); }
        .btn-success { background: linear-gradient(135deg, #dcb372 0%, #fbc02d 100%) !important; pointer-events: none; }

        .night-thought {
            margin-top: 25px; background: linear-gradient(135deg, #1565c0 0%, #0d47a1 100%);
            color: #e3f2fd; padding: 25px; border-radius: 20px; text-align: center;
            display: none; animation: fadeIn 0.5s;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .nav-buttons {
            display: flex; justify-content: space-between; margin-top: 30px;
            border-top: 1px solid rgba(0,0,0,0.05); padding-top: 15px;
        }
        .nav-btn {
            background: transparent; border: none; color: #999; font-weight: bold;
            cursor: pointer; font-family: sans-serif; font-size: 0.9rem; transition: 0.3s;
        }
        .nav-btn:hover:not(:disabled) { color: var(--primary-color); transform: scale(1.05); }
        .nav-btn:disabled { opacity: 0.3; cursor: default; }

        .export-section { text-align: center; margin-top: 30px; }
        .btn-export {
            background: white; color: var(--primary-color); border: 2px solid var(--primary-color);
            padding: 8px 20px; border-radius: 50px; cursor: pointer; font-size: 0.85rem;
            font-family: sans-serif; font-weight: bold; transition: var(--transition);
        }
        .btn-export:hover { background: var(--primary-color); color: white; }

        @media print {
            body * { visibility: hidden; }
            #printable-journal, #printable-journal * { visibility: visible; }
            #printable-journal { position: absolute; left: 0; top: 0; width: 100%; background: white; padding: 40px; color: black; }
            .print-entry { page-break-inside: avoid; margin-bottom: 40px; border-bottom: 1px solid #ddd; padding-bottom: 20px; }
            .print-header { font-size: 1.4em; color: var(--primary-color); margin-bottom: 5px; font-weight: bold;}
            .print-verse { font-style: italic; color: #555; margin-bottom: 10px; }
            .print-note { font-family: 'Georgia', serif; background: #f9f9f9; padding: 10px; border-left: 3px solid #ddd; margin-top: 10px; }
        }
        #printable-journal { display: none; }

        @media (max-width: 600px) {
            .card { padding: 30px 20px; }
            h1 { font-size: 1.5rem; }
            .top-nav { justify-content: center; }
        }
    </style>
</head>
<body>

    <div id="bg-image"></div>
    <div id="bg-overlay"></div>

    <div class="container">
        <div class="card">
            <header>
                <div class="top-nav">
                    <span class="day-counter" id="day-display">Dag 1</span>
                    <div class="nav-tools">
                      <button class="tool-btn" onclick="window.location.href='index.html'">üè† Home</button>
                      <button class="tool-btn" id="photo-toggle" onclick="toggleBackground()">üì∑ Achtergrond</button>
                      <button class="tool-btn" onclick="goToToday()">‚ô• Vandaag</button>
                    </div>
                </div>
                
                <h1 id="theme-title">Je bent van Waarde</h1>
                
                <div class="theme-selector">
                    <button class="theme-btn active" id="btn-value" onclick="switchTheme('value')">Je bent Waardevol</button>
                    <button class="theme-btn" id="btn-imperfection" onclick="switchTheme('imperfection')">Imperfectie</button>
                </div>
            </header>

            <div class="scripture-box">
                <span id="verse-text">...</span>
                <span class="reference" id="verse-ref">...</span>
            </div>

            <div class="action-box">
                <span class="action-title">Opdracht voor vandaag:</span>
                <span id="action-text">...</span>
            </div>

            <div id="journal-section">
                <label for="user-notes" style="display:block; margin-bottom:10px; font-weight:bold; color:var(--primary-color); font-family:sans-serif; font-size:0.85rem;">Jouw gedachten & gebed:</label>
                <textarea id="user-notes" placeholder="Wat doet deze tekst met je? Schrijf het van je af..."></textarea>
                <button class="btn-primary" onclick="completeDay()">Dag Afronden</button>
            </div>

            <div id="night-section" class="night-thought">
                <h3 style="margin-top:0; color:var(--accent-color); font-size: 1.1rem;">‚ú® Om mee te nemen</h3>
                <p id="night-text">Je bent geliefd, precies zoals je bent. Slaap in vrede.</p>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn" id="prev-btn" onclick="changeDay(-1)">‚Üê Vorige</button>
                <button class="nav-btn" id="next-btn" onclick="changeDay(1)">Volgende ‚Üí</button>
            </div>

            <div class="export-section">
                <button class="btn-export" onclick="printJournal()">üñ®Ô∏è Maak Boekje</button>
            </div>
        </div>
    </div>

    <div id="printable-journal">
        <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color:#1565c0;">Mijn Waardevolle Reis</h1>
            <p>Inzichten en Gebeden</p>
        </div>
        <div id="print-content"></div>
    </div>

    <script>
        // DATA SETS
        const dataValue = [
            { day: 1, quote: "Ik loof U, omdat ik ontzagwekkend wonderlijk gemaakt ben.", ref: "Psalm 139:14", task: "Kijk 1 minuut in de spiegel, recht in je eigen ogen, en zeg hardop: 'Ik ben een wonder'." },
            { day: 2, quote: "Want wij zijn Zijn maaksel, geschapen in Christus Jezus.", ref: "Efezi√´rs 2:10", task: "Schrijf 'Meesterwerk' op een post-it en plak het op je computerscherm of koelkast." },
            { day: 3, quote: "Nog voordat Ik je in de moederschoot vormde, kende Ik je.", ref: "Jeremia 1:5", task: "Bedenk dat je geen toevalstreffer bent. Schrijf op hoe dit je kijk op je verleden verandert." },
            { day: 4, quote: "Zie, Ik heb u in beide handpalmen gegraveerd.", ref: "Jesaja 49:16", task: "Bekijk de lijnen in je eigen handpalm en besef: zo onuitwisbaar sta ik bij God bekend." },
            { day: 5, quote: "U bent kostbaar in Mijn ogen, hooggeacht, en Ik heb u lief.", ref: "Jesaja 43:4", task: "Vraag jezelf af: 'Als ik zo kostbaar ben, hoe mag ik mijzelf dan vandaag behandelen?' Doe iets liefs voor jezelf." },
            { day: 6, quote: "Zelfs de haren op uw hoofd zijn alle geteld.", ref: "Lukas 12:7", task: "Als je je haar kamt of doucht, dank God voor Zijn extreme aandacht voor de kleinste details van jouw leven." },
            { day: 7, quote: "Bedenk toch hoe groot de liefde is die de Vader ons heeft gegeven: wij worden kinderen van God genoemd.", ref: "1 Johannes 3:1", task: "Luister naar een lied dat gaat over God als Vader en zing het mee." },
            { day: 8, quote: "U bent een uitverkoren geslacht, een koninkrijk van priesters.", ref: "1 Petrus 2:9", task: "Draag vandaag je mooiste kledingstuk of accessoire als symbool van je koninklijke status." },
            { day: 9, quote: "De HEERE, uw God, is in uw midden... Hij zal Zich over u verheugen met blijdschap.", ref: "Sefanja 3:17", task: "Glimlach vandaag bewust naar iemand, wetende dat God ook naar jou glimlacht." },
            { day: 10, quote: "Want U hebt mijn nieren geschapen, mij in de schoot van mijn moeder geweven.", ref: "Psalm 139:13", task: "Kijk naar een ingewikkeld geweven stof. Zo complex en zorgvuldig zit jij in elkaar." },
            { day: 11, quote: "Jullie zijn het lichaam van Christus en ieder van jullie is een deel daarvan.", ref: "1 Korinti√´rs 12:27", task: "Bedenk √©√©n talent dat jij hebt. Dank God dat dit talent nodig is in het grote geheel." },
            { day: 12, quote: "Er is geen veroordeling voor wie in Christus Jezus zijn.", ref: "Romeinen 8:1", task: "Als je vandaag een fout maakt, zeg dan direct: 'Ik ben vergeven, ik leer hiervan' in plaats van jezelf te straffen." },
            { day: 13, quote: "Niet gij hebt Mij, maar Ik heb u uitgekozen.", ref: "Johannes 15:16", task: "Schrijf op een briefje: 'Ik ben gewild' en stop het in je portemonnee." },
            { day: 14, quote: "Ik weet welke gedachten Ik over u koester... gedachten van vrede en niet van onheil.", ref: "Jeremia 29:11", task: "Schrijf √©√©n zorg op die je hebt over de toekomst, en geef die symbolisch aan God door het papier weg te gooien." },
            { day: 15, quote: "De mens kijkt naar het uiterlijk, maar de HEER kijkt naar het hart.", ref: "1 Samu√´l 16:7", task: "Geef vandaag iemand een compliment over zijn/haar karakter, niet over het uiterlijk." },
            { day: 16, quote: "Wees sterk en moedig... want de HEERE, uw God, is met u.", ref: "Jozua 1:9", task: "Doe vandaag √©√©n ding dat je eigenlijk een beetje spannend vindt." },
            { day: 17, quote: "Want U hebt mij bijna goddelijk gemaakt, en mij met glorie en luister gekroond.", ref: "Psalm 8:6", task: "Loop vandaag rechtop, schouders naar achteren. Je draagt een onzichtbare kroon." },
            { day: 18, quote: "Hij heelt wie gebroken zijn en verzorgt hun diepe wonden.", ref: "Psalm 147:3", task: "Identificeer een 'oude wond' of pijn en bid kort: 'Heer, verzorg dit plekje'." },
            { day: 19, quote: "Alles wat God geschapen heeft is goed.", ref: "1 Timothe√ºs 4:4", task: "Zeg hardop tegen jezelf: 'Ik ben goed geschapen, ik mag er zijn'." },
            { day: 20, quote: "Hij die in u een goed werk begonnen is, zal dat ook voltooien.", ref: "Filippenzen 1:6", task: "Wees geduldig met jezelf vandaag. Je bent nog 'under construction' en dat is ok√©." },
            { day: 21, quote: "U bent het zout van de aarde... U bent het licht van de wereld.", ref: "Matthe√ºs 5:13-14", task: "Stuur een bemoedigend appje naar iemand die het moeilijk heeft. Wees even dat licht." },
            { day: 22, quote: "Wie Mijn Woord hoort en daarin gelooft... is overgegaan uit de dood in het leven.", ref: "Johannes 5:24", task: "Adem diep in en uit. Besef bij elke ademteug dat je √©cht LEVEN hebt ontvangen." },
            { day: 23, quote: "Zoals een vader zich ontfermt over zijn kinderen, zo ontfermt de HEERE Zich over wie Hem vrezen.", ref: "Psalm 103:13", task: "Bekijk een foto van jezelf als kind. Kijk met compassie naar dat kind. Zo kijkt God naar jou." },
            { day: 24, quote: "Ik zal u beslist niet loslaten en Ik zal u beslist niet verlaten.", ref: "Hebree√´n 13:5", task: "Houd je eigen hand stevig vast. Voel de grip. Zo houdt God jou vast, maar dan nog sterker." },
            { day: 25, quote: "In Zijn liefde heeft Hij ons voorbestemd om Zijn kinderen te worden.", ref: "Efezi√´rs 1:5", task: "Noem drie privileges op die kinderen hebben (bv. bescherming, eten, spelen). Dank God dat jij die geestelijk ook hebt." },
            { day: 26, quote: "Of weet u niet dat uw lichaam een tempel is van de Heilige Geest?", ref: "1 Korinti√´rs 6:19", task: "Eet of drink vandaag iets gezonds en zie het als onderhoud van je tempel." },
            { day: 27, quote: "Ik ben de goede Herder; de goede herder geeft zijn leven voor de schapen.", ref: "Johannes 10:11", task: "Je bent z√≥veel waard dat Iemand zijn leven voor je gaf. Laat dat 1 minuut in stilte op je inwerken." },
            { day: 28, quote: "Met eeuwige goedertierenheid zal Ik Mij over u ontfermen.", ref: "Jesaja 54:8", task: "Teken het symbool voor oneindig (‚àû) op je pols als herinnering aan Zijn eeuwige trouw." },
            { day: 29, quote: "Kom naar Mij toe, allen die vermoeid en belast zijn, en Ik zal u rust geven.", ref: "Matthe√ºs 11:28", task: "Neem 5 minuten pauze zonder telefoon, zonder prikkels. Gewoon zitten en rust ontvangen." },
            { day: 30, quote: "En zie, Ik ben met u al de dagen, tot de voleinding van de wereld.", ref: "Matthe√ºs 28:20", task: "Kijk naar je agenda voor de komende maand. Schrijf boven de maand: 'God is erbij'." }
        ];

        const dataImperfection = [
            { day: 1, quote: "Mijn genade is voor u genoeg, want Mijn kracht wordt in zwakheid volbracht.", ref: "2 Korinti√´rs 12:9", task: "Erken vandaag hardop √©√©n zwakte of onzekerheid. Zeg daarna: 'En precies hier mag God werken'." },
            { day: 2, quote: "Want Hij weet wat voor maaksel wij zijn en blijft bedenken dat wij stof zijn.", ref: "Psalm 103:14", task: "Pak een beetje aarde of zand in je hand. Voel hoe los het is. Het is ok√© om fragiel te zijn." },
            { day: 3, quote: "Maar wij hebben deze schat in aarden kruiken, opdat de allesovertreffende kracht van God zou zijn.", ref: "2 Korinti√´rs 4:7", task: "Kijk naar een mok of vaasje met een barstje of oneffenheid. Zie de schoonheid in het niet-perfecte." },
            { day: 4, quote: "Niet dat ik het al verkregen heb... maar ik jaag ernaar.", ref: "Filippenzen 3:12", task: "Zeg tegen jezelf als iets mislukt: 'Ik ben onderweg, ik ben er nog niet, en dat geeft niet'." },
            { day: 5, quote: "Want de rechtvaardige valt zevenmaal, maar staat weer op.", ref: "Spreuken 24:16", task: "Als je vandaag struikelt, maak er een punt van om bewust weer 'op te staan' zonder schuldgevoel." },
            { day: 6, quote: "Wij struikelen immers allen in veel opzichten.", ref: "Jakobus 3:2", task: "Wees mild voor de fout van een ander vandaag. Het herinnert je eraan dat we allemaal struikelen." },
            { day: 7, quote: "Gezonden hebben geen dokter nodig, maar wie ziek zijn.", ref: "Matthe√ºs 9:12", task: "Vraag God vandaag niet om kracht om het z√©lf te doen, maar geef toe dat je Zijn 'Hulp' nodig hebt." },
            { day: 8, quote: "Want allen hebben gezondigd en missen de heerlijkheid van God.", ref: "Romeinen 3:23", task: "Adem diep in en uit. Besef dat iedereen die je vandaag ziet, ook niet perfect is. Dat schept een band." },
            { day: 9, quote: "Het dwaze van de wereld heeft God uitverkoren om de wijzen te beschamen.", ref: "1 Korinti√´rs 1:27", task: "Doe iets op een 'onhandige' of speelse manier, zonder dat het effici√´nt hoeft te zijn." },
            { day: 10, quote: "Al bezwijkt mijn vlees en mijn hart, God is de rots van mijn hart.", ref: "Psalm 73:26", task: "Voel je hartslag aan je pols. Het is kwetsbaar. Dank God dat Hij de Rots is, en niet jij." },
            { day: 11, quote: "HEERE, U bent onze Vader; wij zijn de klei en U bent onze Pottenbakker.", ref: "Jesaja 64:8", task: "Visualiseer dat je op een draaischijf staat. De Pottenbakker is nog bezig. Je mag dus nog onaf zijn." },
            { day: 12, quote: "Indien wij onze zonden belijden: Hij is getrouw en rechtvaardig.", ref: "1 Johannes 1:9", task: "Schrijf een fout op papier, verscheur het en gooi het weg. Het is weg." },
            { day: 13, quote: "Wees niet al te rechtvaardig en wees niet bovenmate wijs.", ref: "Prediker 7:16", task: "Laat de teugels vandaag √©√©n keer vieren. Laat de afwas staan of stuur een mailtje later." },
            { day: 14, quote: "Door de genade van God ben ik wat ik ben.", ref: "1 Korinti√´rs 15:10", task: "Kijk in de spiegel en zeg: 'Ik ben goed genoeg door Zijn genade'." },
            { day: 15, quote: "Want wij hebben geen Hogepriester die geen medelijden kan hebben met onze zwakheden.", ref: "Hebree√´n 4:15", task: "Vertel Jezus over je dag zoals je tegen een vriend praat die alles begrijpt, zonder vrome woorden." },
            { day: 16, quote: "En evenzo komt ook de Geest onze zwakheden te hulp.", ref: "Romeinen 8:26", task: "Weet je niet wat je moet bidden? Wees 1 minuut stil en laat de Geest voor je 'zuchten'." },
            { day: 17, quote: "Zijn barmhartigheden zijn nieuw, elke morgen.", ref: "Klaagliederen 3:23", task: "Bekijk de zonsopkomst of het ochtendlicht. Zie het als een fysiek bewijs van een nieuwe kans." },
            { day: 18, quote: "Verdraag elkaar en vergeef de een de ander.", ref: "Kolossenzen 3:13", task: "Oefen 'verdraagzaamheid' vandaag eerst op jezelf. Wees geduldig met je eigen leerproces." },
            { day: 19, quote: "Werp al uw zorgen op Hem, want Hij zorgt voor u.", ref: "1 Petrus 5:7", task: "Bal je vuisten met al je zorgen erin, en open dan je handen naar beneden om ze los te laten." },
            { day: 20, quote: "De offers voor God zijn een gebroken geest.", ref: "Psalm 51:19", task: "Je hoeft je niet stoerder voor te doen dan je bent. Huilen of balen mag ook een gebed zijn." },
            { day: 21, quote: "Zalig zijn de armen van geest.", ref: "Matthe√ºs 5:3", task: "Ga even zitten met open, lege handen op je schoot. Erken dat je God nodig hebt." },
            { day: 22, quote: "Als wij ontrouw zijn, blijft Hij getrouw.", ref: "2 Timote√ºs 2:13", task: "Leun letterlijk tegen een muur aan. De muur blijft staan, ook als jij wankelt. Zo is God." },
            { day: 23, quote: "Ik ben niet gekomen om rechtvaardigen te roepen, maar zondaars.", ref: "Lukas 5:32", task: "Wees blij dat je niet perfect ('rechtvaardig') hoeft te zijn om door Jezus geroepen te worden." },
            { day: 24, quote: "Vertrouw op de HEERE met heel je hart, en steun op je eigen inzicht niet.", ref: "Spreuken 3:5", task: "Doe 1 minuut je ogen dicht. Je ziet niks, maar je bent veilig. Oefening in vertrouwen." },
            { day: 25, quote: "Want het willen is wel bij mij aanwezig, maar het goede uitwerken niet.", ref: "Romeinen 7:18", task: "Accepteer vandaag dat je intentie goed was, ook al was het resultaat rommelig." },
            { day: 26, quote: "Aan Hem nu Die u voor struikelen kan behoeden...", ref: "Judas 1:24", task: "Loop over een smal randje (van de stoep of tapijt). Besef: Hij houdt mij vast als ik wankel." },
            { day: 27, quote: "Hij zal de geknakte rietstengel niet breken.", ref: "Jesaja 42:3", task: "Zoek in de tuin of het park een geknakt plantje. Zie hoe teer het is. God is oneindig voorzichtig met jou." },
            { day: 28, quote: "De mens wikt, maar de HEERE beschikt.", ref: "Spreuken 19:21", task: "Streep iets door in je agenda wat niet gelukt is, en zet er een smiley bij. Het is ok√©." },
            { day: 29, quote: "Ik ellendig mens, wie zal mij verlossen?", ref: "Romeinen 7:24", task: "Soms mag je gewoon even klagen. Stort je hart uit, en eindig met: 'Dank U God'." },
            { day: 30, quote: "De HEERE zal voor u voltooien wat bij mij hoort.", ref: "Psalm 138:8", task: "Kijk terug op de maand. Je bent nog niet 'af', maar God is nog steeds aan het werk. Rust daarin." }
        ];

        let currentDay = 1;
        let activeTheme = 'value'; // 'value' or 'imperfection'
        let photosEnabled = true;

        // Elementen
        const els = {
            dayDisplay: document.getElementById('day-display'),
            themeTitle: document.getElementById('theme-title'),
            verseText: document.getElementById('verse-text'),
            verseRef: document.getElementById('verse-ref'),
            actionText: document.getElementById('action-text'),
            userNotes: document.getElementById('user-notes'),
            nightSection: document.getElementById('night-section'),
            bgImage: document.getElementById('bg-image'),
            bgOverlay: document.getElementById('bg-overlay'),
            prevBtn: document.getElementById('prev-btn'),
            nextBtn: document.getElementById('next-btn'),
            photoToggle: document.getElementById('photo-toggle'),
            saveBtn: document.querySelector('.btn-primary')
        };

        window.onload = function() {
            // Check opgeslagen voorkeur voor foto's
            const prefPhotos = localStorage.getItem('photosEnabled_value');
            if(prefPhotos !== null) { photosEnabled = (prefPhotos === 'true'); }
            updatePhotoToggleButton();

            // Check opgeslagen dag & thema
            const savedDay = localStorage.getItem('currentDay_value');
            if(savedDay) currentDay = parseInt(savedDay);
            
            const savedTheme = localStorage.getItem('currentTheme_value');
            if(savedTheme) activeTheme = savedTheme;

            loadDay(currentDay);
        };

        function switchTheme(theme) {
            activeTheme = theme;
            localStorage.setItem('currentTheme_value', activeTheme);
            loadDay(currentDay);
        }

        function goToToday() {
            const todayDate = new Date().getDate();
            if (todayDate <= 30) loadDay(todayDate);
            else loadDay(1);
        }

        function toggleBackground() {
            photosEnabled = !photosEnabled;
            localStorage.setItem('photosEnabled_value', photosEnabled);
            updatePhotoToggleButton();
            loadDay(currentDay);
        }

        function updatePhotoToggleButton() {
            if(photosEnabled) {
                els.photoToggle.classList.add('active');
                els.photoToggle.innerHTML = "üì∑ Foto's AAN";
            } else {
                els.photoToggle.classList.remove('active');
                els.photoToggle.innerHTML = "üì∑ Foto's UIT";
            }
        }

        function loadDay(day) {
            currentDay = parseInt(day);
            if (currentDay < 1) currentDay = 1;
            if (currentDay > 30) currentDay = 30;
            localStorage.setItem('currentDay_value', currentDay);

            // Activeer juiste knop
            document.getElementById('btn-value').classList.toggle('active', activeTheme === 'value');
            document.getElementById('btn-imperfection').classList.toggle('active', activeTheme === 'imperfection');
            
            // Kies juiste dataset
            const dataSet = activeTheme === 'value' ? dataValue : dataImperfection;
            const data = dataSet.find(d => d.day === currentDay);
            
            // UI Update
            els.dayDisplay.innerText = `DAG ${data.day}`;
            els.themeTitle.innerText = activeTheme === 'value' ? "Je bent van Waarde" : "Genade voor Imperfectie";
            els.verseText.innerText = `"${data.quote}"`;
            els.verseRef.innerText = data.ref;
            els.actionText.innerText = data.task;

            // Achtergrond Logica
            if(photosEnabled) {
                // Seed 'ocean' of 'sky' voor blauw thema
                const seed = activeTheme === 'value' ? 'sky' : 'ocean';
                const imgUrl = `https://picsum.photos/seed/${currentDay}_${seed}/1920/1080`;
                const img = new Image();
                img.src = imgUrl;
                img.onload = () => {
                     els.bgImage.style.backgroundImage = `url('${imgUrl}')`;
                     els.bgImage.style.opacity = '1';
                };
                els.bgOverlay.style.backdropFilter = 'blur(3px)';
                document.body.style.backgroundColor = 'transparent';
            } else {
                els.bgImage.style.opacity = '0';
                els.bgOverlay.style.backdropFilter = 'blur(0px)';
                document.body.style.backgroundColor = 'var(--pastel-bg)';
            }

            // Notitie ophalen
            const savedNote = localStorage.getItem(`note_${activeTheme}_${currentDay}`);
            els.userNotes.value = savedNote ? savedNote : "";

            if (savedNote && savedNote.length > 2) {
                els.nightSection.style.display = 'block';
            } else {
                els.nightSection.style.display = 'none';
            }
            
            els.prevBtn.disabled = (currentDay === 1);
            els.nextBtn.disabled = (currentDay === 30);
        }

        function changeDay(delta) {
            loadDay(currentDay + delta);
        }

        function completeDay() {
            if(els.userNotes.value.trim() === "") {
                alert("Schrijf een korte gedachte op voordat je de dag afsluit.");
                return;
            }
            localStorage.setItem(`note_${activeTheme}_${currentDay}`, els.userNotes.value);
            
            els.nightSection.style.display = 'block';
            els.nightSection.scrollIntoView({behavior: "smooth"});

            const originalText = els.saveBtn.innerText;
            els.saveBtn.innerText = "‚ú® Opgeslagen!";
            els.saveBtn.classList.add('btn-success');
            setTimeout(() => {
                els.saveBtn.innerText = originalText;
                els.saveBtn.classList.remove('btn-success');
            }, 2000);
        }

        function printJournal() {
            const printContent = document.getElementById('print-content');
            printContent.innerHTML = ""; 

            // Print beide thema's? Laten we het huidige actieve thema printen
            const dataSet = activeTheme === 'value' ? dataValue : dataImperfection;
            const title = activeTheme === 'value' ? "Je bent van Waarde" : "Genade voor Imperfectie";

            const themeHeader = document.createElement('h2');
            themeHeader.innerText = title;
            themeHeader.style.color = '#1565c0';
            printContent.appendChild(themeHeader);

            dataSet.forEach((d) => {
                const note = localStorage.getItem(`note_${activeTheme}_${d.day}`);
                const displayNote = note ? note : "(Nog geen notitie gemaakt)";
                
                const entryDiv = document.createElement('div');
                entryDiv.className = 'print-entry';

                entryDiv.innerHTML = `
                    <div class="print-header">Dag ${d.day}</div>
                    <div class="print-verse">"${d.quote}"</div>
                    <div style="font-size:0.9em; color:#666; margin-bottom:10px;">${d.ref}</div>
                    <div style="margin-bottom:10px;"><strong>Opdracht:</strong> ${d.task}</div>
                `;

                const noteDiv = document.createElement('div');
                noteDiv.className = 'print-note';
                noteDiv.innerHTML = `<em>Mijn notitie:</em><br>${displayNote}`;

                entryDiv.appendChild(noteDiv);
                printContent.appendChild(entryDiv);
            });
            window.print();
        }
    </script>
</body>
</html>